---
target_user: bastos
target_user_home: "/home/{{ target_user }}"
brew_prefix: /home/linuxbrew/.linuxbrew

apt_arch: >-
  {{ {
    'x86_64': 'amd64',
    'aarch64': 'arm64',
    'armv7l': 'armhf',
    'armv8l': 'arm64'
  }.get(ansible_facts['architecture'], ansible_facts['architecture']) }}

docker_apt_release: >-
  {{ {
    'bionic': 'bionic',
    'focal': 'focal',
    'jammy': 'jammy',
    'noble': 'noble'
  }.get(ansible_facts['distribution_release'], 'jammy') }}

ssh_public_key: "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIK5YDl9pSsedMatSLLjbOgMVutCRRnWgNHJwun3ghQGn code@tiagobastos.me"

nomachine_download_url_latest: "https://download.nomachine.com/download/?id=1&platform=linux"
nomachine_download_url_fallback: "https://web9001.nomachine.com/download/9.3/Linux/nomachine_9.3.7_1_amd64.deb"
nomachine_expected_md5: "e0b8c6f3e8faee998818892fcaa7de03"
# NoMachine download handling
nomachine_deb_path: /tmp/nomachine.deb

# Optional: pass via env (recommended for one-time use keys)
#   TAILSCALE_AUTHKEY=tskey-... ansible-playbook ...
# Or via extra-vars:
#   ansible-playbook ... -e tailscale_authkey=tskey-...
tailscale_authkey: "{{ lookup('ansible.builtin.env', 'TAILSCALE_AUTHKEY') | default('', true) }}"
# Optional: set a stable hostname in Tailscale
tailscale_hostname: ""
# Optional: extra args for `tailscale up`, e.g. "--ssh --accept-routes"
tailscale_up_extra_args: "--ssh --accept-routes"
# Optional: local Unix username allowed to operate tailscaled without sudo
# This is applied via `tailscale up --operator=<user>`.
tailscale_operator_user: "{{ target_user }}"
# Optional: RDP password for GNOME Remote Desktop (recommended to pass via env)
#   RDP_PASSWORD='...' ansible-playbook ...
rdp_password: "{{ lookup('ansible.builtin.env', 'RDP_PASSWORD') | default('', true) }}"
# Optional: restrict RDP/SSH to this CIDR (LAN or Tailscale), defaults to your LAN
remote_access_cidr: "192.168.0.0/16"
# System RDP (GDM Remote Login) gate credentials (recommended to pass via env)
#   SYSTEM_RDP_USER='rdp' SYSTEM_RDP_PASSWORD='...' ansible-playbook ...
system_rdp_user: "{{ lookup('ansible.builtin.env', 'SYSTEM_RDP_USER') | default(target_user, true) }}"
system_rdp_password: "{{ lookup('ansible.builtin.env', 'SYSTEM_RDP_PASSWORD') | default(rdp_password, true) }}"

base_packages:
  - ca-certificates
  - curl
  - file
  - git
  - gnupg
  - openssh-server
  - procps
  - ufw
  - vim
  - wget
  - build-essential
  - apt-transport-https
  - bash-completion
  - bat
  - btop
  - fd-find
  - fzf
  - htop
  - jq
  - locales
  - lsb-release
  - mc
  - neofetch
  - ripgrep
  - software-properties-common
  - tree
  - unzip
  - ffmpeg
  - tmux
  - autoconf
  - bison
  - libdb-dev
  - libffi-dev
  - libgdbm-dev
  - libgmp-dev
  - libjemalloc-dev
  - liblzma-dev
  - libncurses5-dev
  - libncursesw5-dev
  - libreadline-dev
  - libssl-dev
  - libsqlite3-dev
  - libyaml-dev
  - zlib1g-dev
  - gnome-tweaks

third_party_packages:
  - 1password
  - cursor
  - gh
  - google-chrome-stable
  - antigravity
  - code
  - gum
  - vhs
  - glow

docker_ce_packages:
  - docker-ce
  - docker-ce-cli
  - containerd.io
  - docker-buildx-plugin
  - docker-compose-plugin

apt_repos:
  - name: 1password
    types: [deb]
    uris: "https://downloads.1password.com/linux/debian/amd64"
    suites: [stable]
    components: [main]
    architectures: [amd64]
    signed_by: "https://downloads.1password.com/linux/keys/1password.asc"

  - name: docker
    types: [deb]
    uris: "https://download.docker.com/linux/ubuntu"
    suites: ["{{ docker_apt_release }}"]
    components: [stable]
    architectures: ["{{ apt_arch }}"]
    signed_by: "https://download.docker.com/linux/ubuntu/gpg"

  - name: cursor
    types: [deb]
    uris: "https://downloads.cursor.com/aptrepo"
    suites: [stable]
    components: [main]
    architectures: [amd64]
    signed_by: "https://downloads.cursor.com/keys/anysphere.asc"

  - name: github-cli
    types: [deb]
    uris: "https://cli.github.com/packages"
    suites: [stable]
    components: [main]
    architectures: ["{{ apt_arch }}"]
    signed_by: "https://cli.github.com/packages/githubcli-archive-keyring.gpg"

  - name: google-chrome
    types: [deb]
    uris: "https://dl.google.com/linux/chrome/deb/"
    suites: [stable]
    components: [main]
    architectures: [amd64]
    signed_by: "https://dl-ssl.google.com/linux/linux_signing_key.pub"

  - name: antigravity
    types: [deb]
    uris: "https://us-central1-apt.pkg.dev/projects/antigravity-auto-updater-dev/"
    suites: [antigravity-debian]
    components: [main]
    signed_by: "https://us-central1-apt.pkg.dev/doc/repo-signing-key.gpg"

  - name: vscode
    types: [deb]
    uris: "https://packages.microsoft.com/repos/code"
    suites: [stable]
    components: [main]
    architectures: [amd64]
    signed_by: "https://packages.microsoft.com/keys/microsoft.asc"

  - name: charm
    types: [deb]
    uris: "https://repo.charm.sh/apt/"
    suites: ["*"]
    components: ["*"]
    signed_by: "https://repo.charm.sh/apt/gpg.key"

brew_packages:
  - lazygit
  - tmuxinator
  - 1password-cli

mise_tools:
  - node
  - bun
  - python
  - ruby@3.4
  - uv
  - rust
