---
target_user: bender
target_user_home: "/home/{{ target_user }}"
brew_prefix: /home/linuxbrew/.linuxbrew

apt_arch: >-
  {{ {
    'x86_64': 'amd64',
    'aarch64': 'arm64',
    'armv7l': 'armhf',
    'armv8l': 'arm64'
  }.get(ansible_facts['architecture'], ansible_facts['architecture']) }}

docker_apt_release: >-
  {{ {
    'bionic': 'bionic',
    'focal': 'focal',
    'jammy': 'jammy',
    'noble': 'noble'
  }.get(ansible_facts['distribution_release'], 'jammy') }}

ssh_public_key: "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIK5YDl9pSsedMatSLLjbOgMVutCRRnWgNHJwun3ghQGn code@tiagobastos.me"

nomachine_deb_url: "https://web9001.nomachine.com/download/9.3/Linux/nomachine_9.3.7_1_amd64.deb"
nomachine_deb_path: /tmp/nomachine.deb

obsidian_appimage_url: "https://github.com/obsidianmd/obsidian-releases/releases/download/v1.11.5/Obsidian-1.11.5.AppImage"
obsidian_appimage_name: "Obsidian-1.11.5.AppImage"
obsidian_appimage_path: "{{ target_user_home }}/bin/{{ obsidian_appimage_name }}"
obsidian_appimage_link: "{{ target_user_home }}/bin/Obsidian.AppImage"

# Optional: pass via env (recommended for one-time use keys)
#   TAILSCALE_AUTHKEY=tskey-... ansible-playbook ...
# Or via extra-vars:
#   ansible-playbook ... -e tailscale_authkey=tskey-...
tailscale_authkey: "{{ lookup('ansible.builtin.env', 'TAILSCALE_AUTHKEY') | default('', true) }}"
# Optional: set a stable hostname in Tailscale
tailscale_hostname: "bender"
# Optional: extra args for `tailscale up`, e.g. "--ssh --accept-routes"
tailscale_up_extra_args: "--ssh --accept-routes"
# Optional: local Unix username allowed to operate tailscaled without sudo
# This is applied via `tailscale up --operator=<user>`.
tailscale_operator_user: "{{ target_user }}"

base_packages:
  - ca-certificates
  - curl
  - file
  - git
  - gnupg
  - openssh-server
  - procps
  - ufw
  - vim
  - wget
  - build-essential
  - apt-transport-https
  - bash-completion
  - bat
  - btop
  - fd-find
  - fzf
  - htop
  - jq
  - locales
  - lsb-release
  - mc
  - neofetch
  - ripgrep
  - software-properties-common
  - tree
  - unzip
  - ffmpeg
  - tmux
  - autoconf
  - bison
  - libdb-dev
  - libffi-dev
  - libgdbm-dev
  - libgmp-dev
  - libjemalloc-dev
  - liblzma-dev
  - libncurses5-dev
  - libncursesw5-dev
  - libreadline-dev
  - libssl-dev
  - libsqlite3-dev
  - libyaml-dev
  - zlib1g-dev
  - gnome-tweaks
  - scrot
  - nethogs
  - iftop
  - qemu-guest-agent
  - libvips
  - topydo
  - libfuse2
  - glances

third_party_packages:
  - 1password
  - gh
  - google-chrome-stable
  - gum
  - vhs
  - glow
  - docker-ce
  - docker-ce-cli
  - containerd.io
  - docker-buildx-plugin
  - docker-compose-plugin

apt_repos:
  - name: 1password
    types: [deb]
    uris: "https://downloads.1password.com/linux/debian/amd64"
    suites: [stable]
    components: [main]
    architectures: [amd64]
    signed_by: "https://downloads.1password.com/linux/keys/1password.asc"

  - name: docker
    types: [deb]
    uris: "https://download.docker.com/linux/ubuntu"
    suites: ["{{ docker_apt_release }}"]
    components: [stable]
    architectures: ["{{ apt_arch }}"]
    signed_by: "https://download.docker.com/linux/ubuntu/gpg"

  - name: github-cli
    types: [deb]
    uris: "https://cli.github.com/packages"
    suites: [stable]
    components: [main]
    architectures: ["{{ apt_arch }}"]
    signed_by: "https://cli.github.com/packages/githubcli-archive-keyring.gpg"

  - name: google-chrome
    types: [deb]
    uris: "https://dl.google.com/linux/chrome/deb/"
    suites: [stable]
    components: [main]
    architectures: [amd64]
    signed_by: "https://dl-ssl.google.com/linux/linux_signing_key.pub"

  - name: charm
    types: [deb]
    uris: "https://repo.charm.sh/apt/"
    suites: ["*"]
    components: ["*"]
    signed_by: "https://repo.charm.sh/apt/gpg.key"

brew_packages:
  - lazygit
  - tmuxinator
  - 1password-cli
  - sqlite
  - obsidian-cli
  - steipete/tap/gogcli
  - dicklesworthstone/tap/bv
  - beads

mise_tools:
  - node@25
  - bun
  - python@3.13
  - ruby@3.4
  - uv
  - rust

env_vars:
  SHARP_IGNORE_GLOBAL_LIBVIPS: "1"
  NODE_OPTIONS: "--disable-warning=DEP0040"
  PATH: "$HOME/.bun/bin:$PATH"

snap_packages: []

snap_classic_packages: []

npm_global_packages:
  - "@steipete/bird"
  - "@google/gemini-cli"
  - "@openai/codex"
  - "opencode-ai"
  - "openclaw@latest"
  - "clawhub"
  - "@steipete/summarize"
  - "@beads/bd"

# Global Bun packages (names or URLs, e.g. https://github.com/tobi/qmd)
bun_global_packages:
  - https://github.com/tobi/qmd
